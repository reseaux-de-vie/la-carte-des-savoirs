{"ast":null,"code":"import e, { useCallback as t, useMemo as r } from \"react\";\nimport { MuiPickersUtilsProvider as n, DatePicker as a, TimePicker as o, DateTimePicker as i, KeyboardDatePicker as l, KeyboardDateTimePicker as c, KeyboardTimePicker as u } from \"@material-ui/pickers\";\nimport { useTranslate as p, useInput as s, FieldTitle as m, InputHelperText as f, useListContext as d, linkToRecord as g } from \"react-admin\";\nimport { IconButton as v, makeStyles as b, useTheme as h } from \"@material-ui/core\";\nimport y from \"@date-io/date-fns\";\nimport O from \"@material-ui/icons/Clear\";\nimport C from \"@fullcalendar/react\";\nimport P from \"@fullcalendar/daygrid\";\nimport { useHistory as w } from \"react-router-dom\";\nimport k from \"@fullcalendar/list\";\nfunction j(e, t) {\n  var r = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    t && (n = n.filter(function (t) {\n      return Object.getOwnPropertyDescriptor(e, t).enumerable;\n    })), r.push.apply(r, n);\n  }\n  return r;\n}\nfunction D(e, t, r) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: r,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = r, e;\n}\nfunction E() {\n  return (E = Object.assign ? Object.assign.bind() : function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = arguments[t];\n      for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);\n    }\n    return e;\n  }).apply(this, arguments);\n}\nfunction S(e, t) {\n  if (null == e) return {};\n  var r,\n    n,\n    a = function (e, t) {\n      if (null == e) return {};\n      var r,\n        n,\n        a = {},\n        o = Object.keys(e);\n      for (n = 0; n < o.length; n++) r = o[n], t.indexOf(r) >= 0 || (a[r] = e[r]);\n      return a;\n    }(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    for (n = 0; n < o.length; n++) r = o[n], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (a[r] = e[r]);\n  }\n  return a;\n}\nvar T = function T() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 2;\n    return function (t) {\n      return (\"0\".repeat(e) + t).slice(-e);\n    };\n  },\n  V = T(4),\n  x = T(2),\n  F = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}$/,\n  I = function I(e) {\n    if (!(e instanceof Date) || isNaN(e.getDate())) return \"\";\n    var t = V(e.getFullYear()),\n      r = x(e.getMonth() + 1),\n      n = x(e.getDate()),\n      a = x(e.getHours()),\n      o = x(e.getMinutes());\n    return \"\".concat(t, \"-\").concat(r, \"-\").concat(n, \"T\").concat(a, \":\").concat(o);\n  },\n  B = function B(e) {\n    return null == e || \"\" === e ? \"\" : e instanceof Date ? I(e) : F.test(e) ? e : I(new Date(e));\n  },\n  R = function R(e) {\n    return e ? new Date(e) : \"\";\n  },\n  q = [\"allowEmpty\", \"alwaysOn\", \"basePath\", \"component\", \"defaultValue\", \"format\", \"formClassName\", \"initialValue\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"locale\", \"meta\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"record\", \"resource\", \"source\", \"textAlign\", \"translate\", \"translateChoice\", \"labelTime\"],\n  M = [\"PickerComponent\", \"format\", \"label\", \"options\", \"source\", \"resource\", \"helperText\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\", \"variant\", \"defaultValue\", \"providerOptions\", \"pickerVariant\", \"stringFormat\", \"allowClear\"],\n  L = function L(r) {\n    var a = r.PickerComponent,\n      o = r.format,\n      i = void 0 === o ? B : o,\n      l = r.label,\n      c = r.options,\n      u = r.source,\n      d = r.resource,\n      g = r.helperText,\n      b = r.margin,\n      h = void 0 === b ? \"dense\" : b,\n      C = r.onBlur,\n      P = r.onChange,\n      w = r.onFocus,\n      k = r.parse,\n      T = void 0 === k ? R : k,\n      V = r.validate,\n      x = r.variant,\n      F = void 0 === x ? \"filled\" : x;\n    r.defaultValue;\n    var I,\n      L = r.providerOptions,\n      N = L.utils,\n      A = L.locale,\n      z = r.pickerVariant,\n      Y = void 0 === z ? \"dialog\" : z,\n      _ = r.stringFormat,\n      G = void 0 === _ ? \"ISO\" : _,\n      H = r.allowClear,\n      U = S(r, M),\n      $ = p(),\n      J = s(function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var r = null != arguments[t] ? arguments[t] : {};\n          t % 2 ? j(Object(r), !0).forEach(function (t) {\n            D(e, t, r[t]);\n          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : j(Object(r)).forEach(function (t) {\n            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n          });\n        }\n        return e;\n      }({\n        format: i,\n        onBlur: C,\n        onChange: P,\n        onFocus: w,\n        parse: T,\n        resource: d,\n        source: u,\n        validate: V\n      }, U)),\n      K = J.id,\n      Q = J.input,\n      W = J.isRequired,\n      X = J.meta,\n      Z = X.error,\n      ee = X.touched,\n      te = t(function (e) {\n        Date.parse(e) ? Q.onChange(\"ISO\" === G ? e.toISOString() : e.toString()) : Q.onChange(null);\n      }, []),\n      re = t(function (e) {\n        e.stopPropagation(), Q.onChange(null);\n      }, []);\n    return e.createElement(n, {\n      utils: N || y,\n      locale: A\n    }, e.createElement(a, E({\n      id: K,\n      InputLabelProps: {\n        shrink: !0\n      },\n      InputProps: {\n        endAdornment: H ? e.createElement(v, {\n          onClick: re\n        }, e.createElement(O, null)) : void 0\n      },\n      label: e.createElement(m, {\n        label: l,\n        source: u,\n        resource: d,\n        isRequired: W\n      }),\n      variant: Y,\n      inputVariant: F,\n      margin: h,\n      error: !(!ee || !Z),\n      helperText: e.createElement(f, {\n        touched: ee,\n        error: Z,\n        helperText: g\n      }),\n      clearLabel: $(\"ra.action.clear_input_value\"),\n      cancelLabel: $(\"ra.action.cancel\")\n    }, c, ((I = U).allowEmpty, I.alwaysOn, I.basePath, I.component, I.defaultValue, I.format, I.formClassName, I.initialValue, I.initializeForm, I.input, I.isRequired, I.label, I.limitChoicesToValue, I.locale, I.meta, I.options, I.optionText, I.optionValue, I.parse, I.record, I.resource, I.source, I.textAlign, I.translate, I.translateChoice, I.labelTime, S(I, q)), {\n      value: Q.value ? new Date(Q.value) : null,\n      onChange: te,\n      onBlur: function onBlur() {\n        return Q.onBlur(Q.value ? \"ISO\" === G ? new Date(Q.value).toISOString() : new Date(Q.value).toString() : null);\n      }\n    })));\n  };\nL.defaultProps = {\n  isRequired: !1,\n  meta: {\n    touched: !1,\n    error: !1\n  },\n  options: {},\n  providerOptions: {\n    utils: y,\n    locale: void 0\n  },\n  parse: function parse(e) {\n    return \"\" === e ? null : e;\n  }\n};\nvar N = function N(e) {\n    var n = e.label,\n      a = e.startDate,\n      o = e.endDate,\n      i = e.linkType,\n      l = w(),\n      c = d(),\n      u = c.ids,\n      p = c.data,\n      s = c.basePath,\n      m = new URLSearchParams(l.location.search),\n      f = t(function (e) {\n        var t = e.event;\n        e.jsEvent.preventDefault(), l.push(t.url);\n      }, []),\n      v = t(function (e) {\n        var t = e.view;\n        m.set(\"month\", t.currentStart.getMonth() + 1), m.set(\"year\", t.currentStart.getFullYear()), l.replace({\n          pathname: l.location.pathname,\n          search: \"?\" + m.toString()\n        });\n      }, [m]),\n      b = r(function () {\n        return u.filter(function (e) {\n          return p[e];\n        }).map(function (e) {\n          return {\n            id: e,\n            title: \"string\" == typeof n ? p[e][n] : n(p[e]),\n            start: \"string\" == typeof a ? p[e][a] : a(p[e]),\n            end: \"string\" == typeof o ? p[e][o] : o(p[e]),\n            url: g(s, e) + \"/\" + i\n          };\n        });\n      }, [p, u, s]);\n    return {\n      initialDate: m.has(\"month\") ? new Date(m.get(\"year\"), m.get(\"month\") - 1) : new Date(),\n      events: b,\n      datesSet: v,\n      eventClick: f\n    };\n  },\n  A = b(function (e) {\n    return {\n      \"@global\": {\n        \".fc-button\": {\n          backgroundColor: e.palette.primary.main + \" !important\",\n          border: \"none !important\",\n          opacity: \"1 !important\"\n        },\n        \".fc-day-today\": {\n          backgroundColor: e.palette.secondary.light + \" !important\"\n        },\n        \"a.fc-daygrid-dot-event\": {\n          color: \"black !important\"\n        }\n      }\n    };\n  }),\n  z = function z(t) {\n    var r = h(),\n      n = N(t);\n    return A(), e.createElement(C, E({\n      plugins: [P],\n      locale: t.locale,\n      initialView: \"dayGridMonth\",\n      eventBackgroundColor: r.palette.primary.main\n    }, n));\n  };\nz.defaultProps = {\n  linkType: \"edit\"\n};\nvar Y = b(function (e) {\n    return {\n      \"@global\": {\n        \".fc-button\": {\n          backgroundColor: e.palette.primary.main + \" !important\",\n          border: \"none !important\",\n          opacity: \"1 !important\"\n        }\n      }\n    };\n  }),\n  _ = function _(t) {\n    var r = N(t);\n    return Y(), e.createElement(C, E({\n      plugins: [k],\n      locale: t.locale,\n      initialView: \"listMonth\"\n    }, r));\n  };\n_.defaultProps = {\n  linkType: \"edit\"\n};\nvar G = function G(t) {\n    return e.createElement(L, E({\n      PickerComponent: a\n    }, t));\n  },\n  H = function H(t) {\n    return e.createElement(L, E({\n      PickerComponent: o\n    }, t));\n  },\n  U = function U(t) {\n    return e.createElement(L, E({\n      PickerComponent: i\n    }, t));\n  },\n  $ = function $(t) {\n    return e.createElement(L, E({\n      PickerComponent: l\n    }, t));\n  },\n  J = function J(t) {\n    return e.createElement(L, E({\n      PickerComponent: c\n    }, t));\n  },\n  K = function K(t) {\n    return e.createElement(L, E({\n      PickerComponent: u\n    }, t));\n  };\nexport { z as CalendarList, G as DateInput, U as DateTimeInput, _ as DaysList, $ as KeyboardDateInput, J as KeyboardDateTimeInput, K as KeyboardTimeInput, H as TimeInput, N as useFullCalendarProps };","map":{"version":3,"sources":["../src/utils.js","../src/Picker.js","../src/useFullCalendarProps.js","../src/CalendarList.js","../src/DaysList.js","../src/index.js"],"names":["leftPad","nb","repeat","value","slice","leftPad4","leftPad2","dateTimeRegex","convertDateToString","Date","isNaN","getDate","yy","getFullYear","MM","getMonth","dd","hh","getHours","mm","getMinutes","dateTimeFormatter","test","dateTimeParser","_ref","allowEmpty","alwaysOn","basePath","component","defaultValue","format","formClassName","initialValue","initializeForm","input","isRequired","label","limitChoicesToValue","locale","meta","options","optionText","optionValue","parse","record","resource","source","textAlign","translate","translateChoice","labelTime","Picker","PickerComponent","helperText","margin","onBlur","onChange","onFocus","validate","variant","providerOptions","utils","pickerVariant","stringFormat","allowClear","rest","_ref2","useTranslate","_useInput","id","error","touched","useInput","_objectSpread","handleChange","useCallback","toISOString","toString","handleClear","e","stopPropagation","React","MuiPickersUtilsProvider","DateFnsUtils","InputLabelProps","shrink","InputProps","endAdornment","IconButton","onClick","createElement","undefined","FieldTitle","inputVariant","InputHelperText","clearLabel","cancelLabel","defaultProps","useFullCalendarProps","startDate","endDate","linkType","history","useHistory","_useListContext","ids","data","useListContext","query","URLSearchParams","location","search","eventClick","event","jsEvent","preventDefault","push","url","datesSet","view","_ref3","set","currentStart","replace","pathname","events","useMemo","filter","map","title","start","end","linkToRecord","initialDate","has","get","useGlobalStyles","makeStyles","@global",".fc-button","backgroundColor","theme","palette","primary","main","border","opacity",".fc-day-today","secondary","light","a.fc-daygrid-dot-event","color","CalendarList","useTheme","fullCalendarProps","props","FullCalendar","plugins","dayGridPlugin","initialView","eventBackgroundColor","DaysList","listPlugin","DateInput","DatePicker","TimeInput","TimePicker","DateTimeInput","DateTimePicker","KeyboardDateInput","KeyboardDatePicker","KeyboardDateTimeInput","KeyboardDateTimePicker","KeyboardTimeInput","KeyboardTimePicker"],"mappings":"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","sourcesContent":["const leftPad = (nb = 2) => value => ('0'.repeat(nb) + value).slice(-nb);\nconst leftPad4 = leftPad(4);\nconst leftPad2 = leftPad(2);\n\n// yyyy-MM-ddThh:mm\nconst dateTimeRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}$/;\n\n/**\n * @param {Date} value value to convert\n * @returns {String} A standardized datetime (yyyy-MM-ddThh:mm), to be passed to an <input type=\"datetime-local\" />\n */\nconst convertDateToString = value => {\n  if (!(value instanceof Date) || isNaN(value.getDate())) {\n    return '';\n  }\n\n  const yy = leftPad4(value.getFullYear());\n  const MM = leftPad2(value.getMonth() + 1);\n  const dd = leftPad2(value.getDate());\n  const hh = leftPad2(value.getHours());\n  const mm = leftPad2(value.getMinutes());\n  return `${yy}-${MM}-${dd}T${hh}:${mm}`;\n};\n\n/**\n * Converts a date from the Redux store, with timezone, to a date string\n * without timezone for use in an <input type=\"datetime-local\" />.\n *\n * @param {Date | String} value date string or object\n */\nexport const dateTimeFormatter = value => {\n  // null, undefined and empty string values should not go through convertDateToString\n  // otherwise, it returns undefined and will make the input an uncontrolled one.\n  if (value == null || value === '') {\n    return '';\n  }\n\n  if (value instanceof Date) {\n    return convertDateToString(value);\n  }\n\n  // valid dates should not be converted\n  if (dateTimeRegex.test(value)) {\n    return value;\n  }\n\n  return convertDateToString(new Date(value));\n};\n\n/**\n * Converts a datetime string without timezone to a date object\n * with timezone, using the browser timezone.\n *\n * @param {String} value Date string, formatted as yyyy-MM-ddThh:mm\n * @return {Date}\n */\nexport const dateTimeParser = value => (value ? new Date(value) : '');\n","import React, { useCallback } from 'react';\nimport { useInput, useTranslate, FieldTitle, InputHelperText } from 'react-admin';\nimport { IconButton } from '@material-ui/core';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { dateTimeFormatter, dateTimeParser } from './utils';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nconst sanitizeRestProps = ({\n  allowEmpty,\n  alwaysOn,\n  basePath,\n  component,\n  defaultValue,\n  format,\n  formClassName,\n  initialValue,\n  initializeForm,\n  input,\n  isRequired,\n  label,\n  limitChoicesToValue,\n  locale,\n  meta,\n  options,\n  optionText,\n  optionValue,\n  parse,\n  record,\n  resource,\n  source,\n  textAlign,\n  translate,\n  translateChoice,\n  labelTime,\n  ...rest\n}) => rest;\n\nconst Picker = ({\n  PickerComponent,\n  format = dateTimeFormatter,\n  label,\n  options,\n  source,\n  resource,\n  helperText,\n  margin = 'dense',\n  onBlur,\n  onChange,\n  onFocus,\n  parse = dateTimeParser,\n  validate,\n  variant = 'filled',\n  defaultValue,\n  providerOptions: { utils, locale },\n  pickerVariant = 'dialog',\n  stringFormat = 'ISO',\n  allowClear,\n  ...rest\n}) => {\n  const translate = useTranslate();\n  const {\n    id,\n    input,\n    isRequired,\n    meta: { error, touched }\n  } = useInput({\n    format,\n    onBlur,\n    onChange,\n    onFocus,\n    parse,\n    resource,\n    source,\n    validate,\n    /* type: 'datetime-local', */\n    ...rest\n  });\n\n  const handleChange = useCallback(value => {\n    Date.parse(value)\n      ? input.onChange(stringFormat === 'ISO' ? value.toISOString() : value.toString())\n      : input.onChange(null);\n  }, []);\n\n  const handleClear = useCallback(e => {\n    e.stopPropagation();\n    input.onChange(null);\n  }, []);\n\n  return (\n    <MuiPickersUtilsProvider utils={utils || DateFnsUtils} locale={locale}>\n      <PickerComponent\n        id={id}\n        InputLabelProps={{\n          shrink: true\n        }}\n        InputProps={{\n          endAdornment: allowClear ? (\n            <IconButton onClick={handleClear}>\n              <ClearIcon />\n            </IconButton>\n          ) : (\n            undefined\n          )\n        }}\n        label={<FieldTitle label={label} source={source} resource={resource} isRequired={isRequired} />}\n        variant={pickerVariant}\n        inputVariant={variant}\n        margin={margin}\n        error={!!(touched && error)}\n        helperText={<InputHelperText touched={touched} error={error} helperText={helperText} />}\n        clearLabel={translate('ra.action.clear_input_value')}\n        cancelLabel={translate('ra.action.cancel')}\n        {...options}\n        {...sanitizeRestProps(rest)}\n        value={input.value ? new Date(input.value) : null}\n        onChange={handleChange}\n        onBlur={() =>\n          input.onBlur(\n            input.value\n              ? stringFormat === 'ISO'\n                ? new Date(input.value).toISOString()\n                : new Date(input.value).toString()\n              : null\n          )\n        }\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nPicker.defaultProps = {\n  isRequired: false,\n  meta: { touched: false, error: false },\n  options: {},\n  providerOptions: {\n    utils: DateFnsUtils,\n    locale: undefined\n  },\n  // Avoid saving an empty string in the dataset\n  parse: value => (value === '' ? null : value)\n};\n\nexport default Picker;\n","import React, { useMemo, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useListContext, linkToRecord } from 'react-admin';\n\nconst useFullCalendarProps = ({ label, startDate, endDate, linkType }) => {\n  const history = useHistory();\n  const { ids, data, basePath } = useListContext();\n\n  let query = new URLSearchParams(history.location.search);\n\n  // Bypass the link in order to use React-Router\n  const eventClick = useCallback(({ event, jsEvent }) => {\n    jsEvent.preventDefault();\n    history.push(event.url);\n  }, []);\n\n  // Change the query string when month change\n  const datesSet = useCallback(\n    ({ view }) => {\n      query.set('month', view.currentStart.getMonth() + 1);\n      query.set('year', view.currentStart.getFullYear());\n      history.replace({ pathname: history.location.pathname, search: '?' + query.toString() });\n    },\n    [query]\n  );\n\n  const events = useMemo(\n    () =>\n      ids\n        .filter(id => data[id])\n        .map(id => ({\n          id,\n          title: typeof label === 'string' ? data[id][label] : label(data[id]),\n          start: typeof startDate === 'string' ? data[id][startDate] : startDate(data[id]),\n          end: typeof endDate === 'string' ? data[id][endDate] : endDate(data[id]),\n          url: linkToRecord(basePath, id) + '/' + linkType\n        })),\n    [data, ids, basePath]\n  );\n\n  return {\n    initialDate: query.has('month') ? new Date(query.get('year'), query.get('month') - 1) : new Date(),\n    events,\n    datesSet,\n    eventClick\n  };\n};\n\nexport default useFullCalendarProps;\n","import React from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport { useTheme, makeStyles } from '@material-ui/core';\nimport useFullCalendarProps from './useFullCalendarProps';\n\nconst useGlobalStyles = makeStyles(theme => ({\n  '@global': {\n    '.fc-button': {\n      backgroundColor: theme.palette.primary.main + ' !important',\n      border: 'none !important',\n      opacity: '1 !important'\n    },\n    '.fc-day-today': {\n      backgroundColor: theme.palette.secondary.light + ' !important'\n    },\n    // Overwrite violet color of links\n    'a.fc-daygrid-dot-event': {\n      color: 'black !important'\n    }\n  }\n}));\n\nconst CalendarList = props => {\n  const theme = useTheme();\n  const fullCalendarProps = useFullCalendarProps(props);\n  useGlobalStyles();\n\n  return (\n    <FullCalendar\n      plugins={[dayGridPlugin]}\n      locale={props.locale}\n      initialView=\"dayGridMonth\"\n      eventBackgroundColor={theme.palette.primary.main}\n      {...fullCalendarProps}\n    />\n  );\n};\n\nCalendarList.defaultProps = {\n  linkType: 'edit'\n};\n\nexport default CalendarList;\n","import React from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport listPlugin from '@fullcalendar/list';\nimport { makeStyles } from '@material-ui/core';\nimport useFullCalendarProps from './useFullCalendarProps';\n\nconst useGlobalStyles = makeStyles(theme => ({\n  '@global': {\n    '.fc-button': {\n      backgroundColor: theme.palette.primary.main + ' !important',\n      border: 'none !important',\n      opacity: '1 !important'\n    }\n  }\n}));\n\nconst DaysList = props => {\n  const fullCalendarProps = useFullCalendarProps(props);\n  useGlobalStyles();\n\n  return <FullCalendar plugins={[listPlugin]} locale={props.locale} initialView=\"listMonth\" {...fullCalendarProps} />;\n};\n\nDaysList.defaultProps = {\n  linkType: 'edit'\n};\n\nexport default DaysList;\n","import React from 'react';\nimport {\n  DatePicker,\n  TimePicker,\n  DateTimePicker,\n  KeyboardDatePicker,\n  KeyboardDateTimePicker,\n  KeyboardTimePicker\n} from '@material-ui/pickers';\nimport Picker from './Picker';\n\nconst DateInput = props => <Picker PickerComponent={DatePicker} {...props} />;\nconst TimeInput = props => <Picker PickerComponent={TimePicker} {...props} />;\nconst DateTimeInput = props => <Picker PickerComponent={DateTimePicker} {...props} />;\nconst KeyboardDateInput = props => <Picker PickerComponent={KeyboardDatePicker} {...props} />;\nconst KeyboardDateTimeInput = props => <Picker PickerComponent={KeyboardDateTimePicker} {...props} />;\nconst KeyboardTimeInput = props => <Picker PickerComponent={KeyboardTimePicker} {...props} />;\n\nexport { DateInput, TimeInput, DateTimeInput, KeyboardDateInput, KeyboardDateTimeInput, KeyboardTimeInput };\n\nexport { default as CalendarList } from './CalendarList';\nexport { default as DaysList } from './DaysList';\nexport { default as useFullCalendarProps } from './useFullCalendarProps';\n"]},"metadata":{},"sourceType":"module"}