{"version":3,"file":"use-debounce.dev.js","sources":["../../node_modules/@react-hook/latest/src/index.tsx","../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\nconst useLatest = <T extends any>(current: T) => {\n  const storedValue = React.useRef(current)\n  storedValue.current = current\n  return storedValue\n}\n\nexport default useLatest\n","import * as React from 'react'\nimport useLatest from '@react-hook/latest'\n\nexport const useDebounceCallback = <CallbackArgs extends any[]>(\n  callback: (...args: CallbackArgs) => void,\n  wait = 100,\n  leading = false\n): ((...args: CallbackArgs) => void) => {\n  const storedCallback = useLatest(callback)\n  const timeout = React.useRef<ReturnType<typeof setTimeout>>()\n  const deps = [wait, leading, storedCallback]\n  // Cleans up pending timeouts when the deps change\n  React.useEffect(\n    () => () => {\n      timeout.current && clearTimeout(timeout.current)\n      timeout.current = void 0\n    },\n    deps\n  )\n\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    const args = arguments\n    const {current} = timeout\n    // Calls on leading edge\n    if (current === void 0 && leading) {\n      timeout.current = setTimeout(() => {\n        timeout.current = void 0\n      }, wait)\n      // eslint-disable-next-line prefer-spread\n      return storedCallback.current.apply(null, args as any)\n    }\n    // Clear the timeout every call and start waiting again\n    current && clearTimeout(current)\n    // Waits for `wait` before invoking the callback\n    timeout.current = setTimeout(() => {\n      timeout.current = void 0\n      storedCallback.current.apply(null, args as any)\n    }, wait)\n  }, deps)\n}\n\nexport const useDebounce = <State extends any>(\n  initialState: State | (() => State),\n  wait?: number,\n  leading?: boolean\n): [\n  State,\n  React.Dispatch<React.SetStateAction<State>>,\n  React.Dispatch<React.SetStateAction<State>>\n] => {\n  const state = React.useState(initialState)\n  return [state[0], useDebounceCallback(state[1], wait, leading), state[1]]\n}\n"],"names":["useLatest","current","storedValue","React","useDebounceCallback","callback","wait","leading","storedCallback","timeout","deps","clearTimeout","args","arguments","setTimeout","apply","useDebounce","initialState","state"],"mappings":";;;;;;EAEA,IAAMA,SAAS,GAAG,SAAZA,SAAY,CAAgBC,OAAhB,EAA+B;EAC/C,MAAMC,WAAW,GAAGC,YAAA,CAAaF,OAAb,CAApB;EACAC,EAAAA,WAAW,CAACD,OAAZ,GAAsBA,OAAtB;EACA,SAAOC,WAAP;EACD,CAJD;;MCCaE,mBAAmB,GAAG,SAAtBA,mBAAsB,CACjCC,QADiC,EAEjCC,IAFiC,EAGjCC,OAHiC,EAIK;EAAA,MAFtCD,IAEsC;EAFtCA,IAAAA,IAEsC,GAF/B,GAE+B;EAAA;;EAAA,MADtCC,OACsC;EADtCA,IAAAA,OACsC,GAD5B,KAC4B;EAAA;;EACtC,MAAMC,cAAc,GAAGR,SAAS,CAACK,QAAD,CAAhC;EACA,MAAMI,OAAO,GAAGN,YAAA,EAAhB;EACA,MAAMO,IAAI,GAAG,CAACJ,IAAD,EAAOC,OAAP,EAAgBC,cAAhB,CAAb,CAHsC;;EAM9B,kBAAM;EACVC,IAAAA,OAAO,CAACR,OAAR,IAAmBU,YAAY,CAACF,OAAO,CAACR,OAAT,CAA/B;EACAQ,IAAAA,OAAO,CAACR,OAAR,GAAkB,KAAK,CAAvB;EACD;;EAJHE,EAAAA,eAAA,CACE;EAAA;EAAA,GADF,EAKEO,IALF;;EAciC,mBAAM;EACjCD,IAAAA,OAAO,CAACR,OAAR,GAAkB,KAAK,CAAvB;EACD;;EARL,SAAOE,iBAAA,CAAkB,YAAY;EACnC;EACA,QAAMS,IAAI,GAAGC,SAAb;EAFmC,QAG5BZ,OAH4B,GAGjBQ,OAHiB,CAG5BR,OAH4B;;EAKnC,QAAIA,OAAO,KAAK,KAAK,CAAjB,IAAsBM,OAA1B,EAAmC;EACjCE,MAAAA,OAAO,CAACR,OAAR,GAAkBa,UAAU,QAEzBR,IAFyB,CAA5B,CADiC;;EAKjC,aAAOE,cAAc,CAACP,OAAf,CAAuBc,KAAvB,CAA6B,IAA7B,EAAmCH,IAAnC,CAAP;EACD,KAXkC;;;EAanCX,IAAAA,OAAO,IAAIU,YAAY,CAACV,OAAD,CAAvB,CAbmC;;EAenCQ,IAAAA,OAAO,CAACR,OAAR,GAAkBa,UAAU,CAAC,YAAM;EACjCL,MAAAA,OAAO,CAACR,OAAR,GAAkB,KAAK,CAAvB;EACAO,MAAAA,cAAc,CAACP,OAAf,CAAuBc,KAAvB,CAA6B,IAA7B,EAAmCH,IAAnC;EACD,KAH2B,EAGzBN,IAHyB,CAA5B;EAID,GAnBM,EAmBJI,IAnBI,CAAP;EAoBD;MAEYM,WAAW,GAAG,SAAdA,WAAc,CACzBC,YADyB,EAEzBX,IAFyB,EAGzBC,OAHyB,EAQtB;EACH,MAAMW,KAAK,GAAGf,cAAA,CAAec,YAAf,CAAd;EACA,SAAO,CAACC,KAAK,CAAC,CAAD,CAAN,EAAWd,mBAAmB,CAACc,KAAK,CAAC,CAAD,CAAN,EAAWZ,IAAX,EAAiBC,OAAjB,CAA9B,EAAyDW,KAAK,CAAC,CAAD,CAA9D,CAAP;EACD;;;;;;;;;;;;;"}