{"ast":null,"code":"import _objectWithoutProperties from \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"startDate\", \"endDate\"];\nvar _this = this,\n  _jsxFileName = \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/src/commons/fields/DurationField.js\";\nimport React from 'react';\nimport { useRecordContext, useTranslate } from 'react-admin';\nimport { Typography } from '@material-ui/core';\nvar getDiff = function getDiff(startDate, endDate) {\n  var seconds = Math.floor((endDate - startDate) / 1000);\n  var minutes = Math.floor(seconds / 60);\n  var hours = Math.floor(minutes / 60);\n  var days = Math.floor(hours / 24);\n  hours = hours - days * 24;\n  minutes = minutes - days * 24 * 60 - hours * 60;\n  return {\n    days: Math.floor(days),\n    hours: Math.floor(hours),\n    minutes: Math.floor(minutes)\n  };\n};\nvar DurationField = function DurationField(_ref) {\n  var startDate = _ref.startDate,\n    endDate = _ref.endDate,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var record = useRecordContext(rest);\n  var translate = useTranslate();\n  var dateElements = [];\n  var _getDiff = getDiff(new Date(record[startDate]), new Date(record[endDate])),\n    days = _getDiff.days,\n    hours = _getDiff.hours,\n    minutes = _getDiff.minutes;\n  if (days) dateElements.push(translate('app.time.days', {\n    smart_count: days\n  }));\n  if (hours) dateElements.push(translate('app.time.hours', {\n    smart_count: hours\n  }));\n  if (minutes) dateElements.push(translate('app.time.minutes', {\n    smart_count: minutes\n  }));\n  return dateElements.length > 0 ? /*#__PURE__*/React.createElement(Typography, {\n    component: \"span\",\n    variant: \"body2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, dateElements.join(', ')) : null;\n};\nexport default DurationField;","map":{"version":3,"names":["React","useRecordContext","useTranslate","Typography","getDiff","startDate","endDate","seconds","Math","floor","minutes","hours","days","DurationField","rest","record","translate","dateElements","Date","push","smart_count","length","join"],"sources":["/home/jean-daniel/Documents/Projets/DÃ©veloppement/ActivityPods/BCM/frontend/src/commons/fields/DurationField.js"],"sourcesContent":["import React from 'react';\nimport { useRecordContext, useTranslate } from 'react-admin';\nimport { Typography } from '@material-ui/core';\n\nconst getDiff = (startDate, endDate) => {\n  let seconds = Math.floor((endDate - startDate) / 1000);\n  let minutes = Math.floor(seconds / 60);\n  let hours = Math.floor(minutes / 60);\n  let days = Math.floor(hours / 24);\n\n  hours = hours - days * 24;\n  minutes = minutes - days * 24 * 60 - hours * 60;\n\n  return {\n    days: Math.floor(days),\n    hours: Math.floor(hours),\n    minutes: Math.floor(minutes),\n  };\n};\n\nconst DurationField = ({ startDate, endDate, ...rest }) => {\n  const record = useRecordContext(rest);\n  const translate = useTranslate();\n\n  let dateElements = [];\n\n  const { days, hours, minutes } = getDiff(new Date(record[startDate]), new Date(record[endDate]));\n  if (days) dateElements.push(translate('app.time.days', { smart_count: days }));\n  if (hours) dateElements.push(translate('app.time.hours', { smart_count: hours }));\n  if (minutes) dateElements.push(translate('app.time.minutes', { smart_count: minutes }));\n\n  return dateElements.length > 0 ? (\n    <Typography component=\"span\" variant=\"body2\">\n      {dateElements.join(', ')}\n    </Typography>\n  ) : null;\n};\n\nexport default DurationField;\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,gBAAgB,EAAEC,YAAY,QAAQ,aAAa;AAC5D,SAASC,UAAU,QAAQ,mBAAmB;AAE9C,IAAMC,OAAO,GAAG,SAAVA,OAAO,CAAIC,SAAS,EAAEC,OAAO,EAAK;EACtC,IAAIC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAAC,CAACH,OAAO,GAAGD,SAAS,IAAI,IAAI,CAAC;EACtD,IAAIK,OAAO,GAAGF,IAAI,CAACC,KAAK,CAACF,OAAO,GAAG,EAAE,CAAC;EACtC,IAAII,KAAK,GAAGH,IAAI,CAACC,KAAK,CAACC,OAAO,GAAG,EAAE,CAAC;EACpC,IAAIE,IAAI,GAAGJ,IAAI,CAACC,KAAK,CAACE,KAAK,GAAG,EAAE,CAAC;EAEjCA,KAAK,GAAGA,KAAK,GAAGC,IAAI,GAAG,EAAE;EACzBF,OAAO,GAAGA,OAAO,GAAGE,IAAI,GAAG,EAAE,GAAG,EAAE,GAAGD,KAAK,GAAG,EAAE;EAE/C,OAAO;IACLC,IAAI,EAAEJ,IAAI,CAACC,KAAK,CAACG,IAAI,CAAC;IACtBD,KAAK,EAAEH,IAAI,CAACC,KAAK,CAACE,KAAK,CAAC;IACxBD,OAAO,EAAEF,IAAI,CAACC,KAAK,CAACC,OAAO;EAC7B,CAAC;AACH,CAAC;AAED,IAAMG,aAAa,GAAG,SAAhBA,aAAa,OAAwC;EAAA,IAAlCR,SAAS,QAATA,SAAS;IAAEC,OAAO,QAAPA,OAAO;IAAKQ,IAAI;EAClD,IAAMC,MAAM,GAAGd,gBAAgB,CAACa,IAAI,CAAC;EACrC,IAAME,SAAS,GAAGd,YAAY,EAAE;EAEhC,IAAIe,YAAY,GAAG,EAAE;EAErB,eAAiCb,OAAO,CAAC,IAAIc,IAAI,CAACH,MAAM,CAACV,SAAS,CAAC,CAAC,EAAE,IAAIa,IAAI,CAACH,MAAM,CAACT,OAAO,CAAC,CAAC,CAAC;IAAxFM,IAAI,YAAJA,IAAI;IAAED,KAAK,YAALA,KAAK;IAAED,OAAO,YAAPA,OAAO;EAC5B,IAAIE,IAAI,EAAEK,YAAY,CAACE,IAAI,CAACH,SAAS,CAAC,eAAe,EAAE;IAAEI,WAAW,EAAER;EAAK,CAAC,CAAC,CAAC;EAC9E,IAAID,KAAK,EAAEM,YAAY,CAACE,IAAI,CAACH,SAAS,CAAC,gBAAgB,EAAE;IAAEI,WAAW,EAAET;EAAM,CAAC,CAAC,CAAC;EACjF,IAAID,OAAO,EAAEO,YAAY,CAACE,IAAI,CAACH,SAAS,CAAC,kBAAkB,EAAE;IAAEI,WAAW,EAAEV;EAAQ,CAAC,CAAC,CAAC;EAEvF,OAAOO,YAAY,CAACI,MAAM,GAAG,CAAC,gBAC5B,oBAAC,UAAU;IAAC,SAAS,EAAC,MAAM;IAAC,OAAO,EAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACzCJ,YAAY,CAACK,IAAI,CAAC,IAAI,CAAC,CACb,GACX,IAAI;AACV,CAAC;AAED,eAAeT,aAAa"},"metadata":{},"sourceType":"module"}