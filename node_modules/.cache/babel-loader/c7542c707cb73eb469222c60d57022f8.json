{"ast":null,"code":"import _objectWithoutProperties from \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"className\"];\nvar _this = this,\n  _jsxFileName = \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/src/resources/Event/EventForm.js\";\nimport React from 'react';\nimport { SimpleForm, ImageInput, TextInput, required, NumberInput, SelectInput, useTranslate } from 'react-admin';\nimport { Box } from '@material-ui/core';\nimport { MarkdownInput } from '@semapps/markdown-components';\nimport { ImageField } from '@semapps/field-components';\nimport { ReferenceInput } from '@semapps/input-components';\nimport { DateTimeInput } from '@semapps/date-components';\nimport frLocale from 'date-fns/locale/fr';\nimport BodyLabel from '../../commons/lists/BodyList/BodyLabel';\nimport Alert from '@material-ui/lab/Alert';\nvar futureDate = function futureDate(value) {\n  if (value && value <= new Date()) {\n    return 'app.validation.futureDate';\n  }\n};\nvar afterStartTime = function afterStartTime(value, allValues) {\n  if (allValues.startTime && value <= allValues.startTime) {\n    return 'app.validation.afterStartTime';\n  }\n};\nvar beforeStartTime = function beforeStartTime(value, allValues) {\n  if (allValues.startTime && value >= allValues.startTime) {\n    return 'app.validation.beforeStartTime';\n  }\n};\nvar EventForm = function EventForm(_ref) {\n  var className = _ref.className,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var translate = useTranslate();\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    mb: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    severity: \"info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, translate('app.helper.first_event'), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"mailto:\".concat(process.env.REACT_APP_CONTACT_EMAIL),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, process.env.REACT_APP_CONTACT_EMAIL))), /*#__PURE__*/React.createElement(SimpleForm, Object.assign({}, rest, {\n    redirect: \"show\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    source: \"name\",\n    fullWidth: true,\n    validate: [required()],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(DateTimeInput, {\n    source: \"startTime\",\n    options: {\n      format: 'dd/MM/yyyy à HH:mm',\n      ampm: false\n    },\n    providerOptions: {\n      locale: frLocale\n    },\n    fullWidth: true,\n    validate: [required(), futureDate],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(DateTimeInput, {\n    source: \"endTime\",\n    options: {\n      format: 'dd/MM/yyyy à HH:mm',\n      ampm: false\n    },\n    providerOptions: {\n      locale: frLocale\n    },\n    fullWidth: true,\n    validate: [required(), afterStartTime],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ReferenceInput, {\n    reference: \"Location\",\n    source: \"location\",\n    fullWidth: true,\n    validate: [required()],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SelectInput, {\n    optionText: \"vcard:given-name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(ImageInput, {\n    source: \"image\",\n    accept: \"image/*\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ImageField, {\n    source: \"src\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(MarkdownInput, {\n    source: \"content\",\n    fullWidth: true,\n    validate: [required()],\n    isRequired: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ReferenceInput, {\n    reference: \"Format\",\n    source: \"apods:hasFormat\",\n    filter: {\n      a: 'apods:EventFormat'\n    },\n    sort: {\n      field: 'rdfs:label',\n      order: 'ASC'\n    },\n    validate: [required()],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SelectInput, {\n    optionText: \"rdfs:label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(BodyLabel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, translate('app.input.conditions')), /*#__PURE__*/React.createElement(DateTimeInput, {\n    source: \"apods:closingTime\",\n    options: {\n      format: 'dd/MM/yyyy à HH:mm',\n      ampm: false\n    },\n    providerOptions: {\n      locale: frLocale\n    },\n    fullWidth: true,\n    validate: [beforeStartTime],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(NumberInput, {\n    source: \"apods:maxAttendees\",\n    fullWidth: true,\n    helperText: translate('app.helper.max_attendees'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextInput, {\n    source: \"apods:otherConditions\",\n    multiline: true,\n    resettable: true,\n    fullWidth: true,\n    helperText: translate('app.helper.other_conditions'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  })));\n};\nexport default EventForm;","map":{"version":3,"names":["React","SimpleForm","ImageInput","TextInput","required","NumberInput","SelectInput","useTranslate","Box","MarkdownInput","ImageField","ReferenceInput","DateTimeInput","frLocale","BodyLabel","Alert","futureDate","value","Date","afterStartTime","allValues","startTime","beforeStartTime","EventForm","className","rest","translate","process","env","REACT_APP_CONTACT_EMAIL","format","ampm","locale","a","field","order"],"sources":["/home/jean-daniel/Documents/Projets/Développement/ActivityPods/BCM/frontend/src/resources/Event/EventForm.js"],"sourcesContent":["import React from 'react';\nimport { SimpleForm, ImageInput, TextInput, required, NumberInput, SelectInput, useTranslate } from 'react-admin';\nimport { Box } from '@material-ui/core';\nimport { MarkdownInput } from '@semapps/markdown-components';\nimport { ImageField } from '@semapps/field-components';\nimport { ReferenceInput } from '@semapps/input-components';\nimport { DateTimeInput } from '@semapps/date-components';\nimport frLocale from 'date-fns/locale/fr';\nimport BodyLabel from '../../commons/lists/BodyList/BodyLabel';\nimport Alert from '@material-ui/lab/Alert';\n\nconst futureDate = (value) => {\n  if( value && value <= (new Date()) ) {\n    return 'app.validation.futureDate';\n  }\n};\n\nconst afterStartTime = (value, allValues) => {\n  if( allValues.startTime && value <= allValues.startTime ) {\n    return 'app.validation.afterStartTime';\n  }\n};\n\nconst beforeStartTime = (value, allValues) => {\n  if( allValues.startTime && value >= allValues.startTime ) {\n    return 'app.validation.beforeStartTime';\n  }\n};\n\nconst EventForm = ({ className, ...rest }) => {\n  const translate = useTranslate();\n  return (\n    <>\n      <Box mb={1}>\n        <Alert severity=\"info\">\n          {translate('app.helper.first_event')}\n          <a href={`mailto:${process.env.REACT_APP_CONTACT_EMAIL}`}>{process.env.REACT_APP_CONTACT_EMAIL}</a>\n        </Alert>\n      </Box>\n      <SimpleForm {...rest} redirect=\"show\">\n        <TextInput source=\"name\" fullWidth validate={[required()]} />\n        <DateTimeInput\n          source=\"startTime\"\n          options={{\n            format: 'dd/MM/yyyy à HH:mm',\n            ampm: false,\n          }}\n          providerOptions={{\n            locale: frLocale,\n          }}\n          fullWidth\n          validate={[required(), futureDate]}\n        />\n        <DateTimeInput\n          source=\"endTime\"\n          options={{\n            format: 'dd/MM/yyyy à HH:mm',\n            ampm: false,\n          }}\n          providerOptions={{\n            locale: frLocale,\n          }}\n          fullWidth\n          validate={[required(), afterStartTime]}\n        />\n        <ReferenceInput reference=\"Location\" source=\"location\" fullWidth validate={[required()]}>\n          <SelectInput optionText=\"vcard:given-name\" />\n        </ReferenceInput>\n        <ImageInput source=\"image\" accept=\"image/*\">\n          <ImageField source=\"src\" />\n        </ImageInput>\n        <MarkdownInput source=\"content\" fullWidth validate={[required()]} isRequired />\n        <ReferenceInput\n          reference=\"Format\"\n          source=\"apods:hasFormat\"\n          filter={{ a: 'apods:EventFormat' }}\n          sort={{ field: 'rdfs:label', order: 'ASC' }}\n          validate={[required()]}\n        >\n          <SelectInput optionText=\"rdfs:label\" />\n        </ReferenceInput>\n        <BodyLabel>{translate('app.input.conditions')}</BodyLabel>\n        <DateTimeInput\n          source=\"apods:closingTime\"\n          options={{\n            format: 'dd/MM/yyyy à HH:mm',\n            ampm: false,\n          }}\n          providerOptions={{\n            locale: frLocale,\n          }}\n          fullWidth\n          validate={[beforeStartTime]}\n        />\n        <NumberInput source=\"apods:maxAttendees\" fullWidth helperText={translate('app.helper.max_attendees')} />\n        <TextInput\n          source=\"apods:otherConditions\"\n          multiline\n          resettable\n          fullWidth\n          helperText={translate('app.helper.other_conditions')}\n        />\n      </SimpleForm>\n    </>\n  );\n};\n\nexport default EventForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}