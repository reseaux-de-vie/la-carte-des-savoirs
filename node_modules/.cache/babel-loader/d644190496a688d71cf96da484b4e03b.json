{"ast":null,"code":"import _objectWithoutProperties from \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"logout\"];\nvar _this = this,\n  _jsxFileName = \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/src/layout/UserMenu.js\";\nimport React, { forwardRef } from 'react';\nimport { UserMenu as RaUserMenu, MenuItemLink, useGetIdentity, useTranslate } from 'react-admin';\nimport { makeStyles, MenuItem, ListItemIcon } from '@material-ui/core';\nimport PersonIcon from '@material-ui/icons/Person';\nimport GroupIcon from '@material-ui/icons/Group';\nimport HomeIcon from '@material-ui/icons/Home';\nimport useOpenExternalApp from \"../hooks/useOpenExternalApp\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      color: theme.palette.text.secondary\n    },\n    active: {\n      color: theme.palette.text.primary\n    },\n    icon: {\n      minWidth: theme.spacing(5)\n    }\n  };\n});\nvar OutsideMenuItemLink = function OutsideMenuItemLink(_ref) {\n  var to = _ref.to,\n    primaryText = _ref.primaryText,\n    leftIcon = _ref.leftIcon;\n  var classes = useStyles();\n  return /*#__PURE__*/React.createElement(\"a\", {\n    href: to,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    className: classes.root,\n    activeClassName: classes.active,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    className: classes.icon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, leftIcon), primaryText));\n};\nvar MyProfileMenu = forwardRef(function (_ref2, ref) {\n  var onClick = _ref2.onClick,\n    label = _ref2.label,\n    to = _ref2.to;\n  return /*#__PURE__*/React.createElement(OutsideMenuItemLink, {\n    ref: ref,\n    to: to,\n    primaryText: label,\n    leftIcon: /*#__PURE__*/React.createElement(PersonIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 72\n      }\n    }),\n    onClick: onClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 3\n    }\n  });\n});\nvar MyAddressMenu = forwardRef(function (_ref3, ref) {\n  var onClick = _ref3.onClick,\n    to = _ref3.to,\n    label = _ref3.label;\n  return /*#__PURE__*/React.createElement(OutsideMenuItemLink, {\n    ref: ref,\n    to: to,\n    primaryText: label,\n    leftIcon: /*#__PURE__*/React.createElement(HomeIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 72\n      }\n    }),\n    onClick: onClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 3\n    }\n  });\n});\nvar MyNetworkMenu = forwardRef(function (_ref4, ref) {\n  var onClick = _ref4.onClick,\n    to = _ref4.to,\n    label = _ref4.label;\n  return /*#__PURE__*/React.createElement(OutsideMenuItemLink, {\n    ref: ref,\n    to: to,\n    primaryText: label,\n    leftIcon: /*#__PURE__*/React.createElement(GroupIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 72\n      }\n    }),\n    onClick: onClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  });\n});\nvar LoginMenu = forwardRef(function (_ref5, ref) {\n  var onClick = _ref5.onClick,\n    label = _ref5.label;\n  return /*#__PURE__*/React.createElement(MenuItemLink, {\n    ref: ref,\n    to: \"/login\",\n    primaryText: label,\n    onClick: onClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 3\n    }\n  });\n});\nvar UserMenu = function UserMenu(_ref6) {\n  var _identity$profileData;\n  var logout = _ref6.logout,\n    otherProps = _objectWithoutProperties(_ref6, _excluded);\n  var _useGetIdentity = useGetIdentity(),\n    identity = _useGetIdentity.identity;\n  var openExternalApp = useOpenExternalApp();\n  var translate = useTranslate();\n  return /*#__PURE__*/React.createElement(RaUserMenu, Object.assign({}, otherProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }), identity && identity.id !== '' ? [/*#__PURE__*/React.createElement(MyProfileMenu, {\n    key: \"my-profile\",\n    label: translate('app.page.profile'),\n    to: openExternalApp('as:Profile', identity === null || identity === void 0 ? void 0 : (_identity$profileData = identity.profileData) === null || _identity$profileData === void 0 ? void 0 : _identity$profileData.id),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(MyAddressMenu, {\n    key: \"my-address\",\n    label: translate('app.page.addresses'),\n    to: openExternalApp('vcard:Location'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(MyNetworkMenu, {\n    key: \"my-network\",\n    label: translate('app.page.network'),\n    to: openExternalApp('as:Profile'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), React.cloneElement(logout, {\n    key: 'logout'\n  })] : /*#__PURE__*/React.createElement(LoginMenu, {\n    label: translate('ra.auth.sign_in'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }));\n};\nexport default UserMenu;","map":{"version":3,"names":["React","forwardRef","UserMenu","RaUserMenu","MenuItemLink","useGetIdentity","useTranslate","makeStyles","MenuItem","ListItemIcon","PersonIcon","GroupIcon","HomeIcon","useOpenExternalApp","useStyles","theme","root","color","palette","text","secondary","active","primary","icon","minWidth","spacing","OutsideMenuItemLink","to","primaryText","leftIcon","classes","MyProfileMenu","ref","onClick","label","MyAddressMenu","MyNetworkMenu","LoginMenu","logout","otherProps","identity","openExternalApp","translate","id","profileData","cloneElement","key"],"sources":["/home/jean-daniel/Documents/Projets/DÃ©veloppement/ActivityPods/BCM/frontend/src/layout/UserMenu.js"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport { UserMenu as RaUserMenu, MenuItemLink, useGetIdentity, useTranslate } from 'react-admin';\nimport { makeStyles, MenuItem, ListItemIcon } from '@material-ui/core';\nimport PersonIcon from '@material-ui/icons/Person';\nimport GroupIcon from '@material-ui/icons/Group';\nimport HomeIcon from '@material-ui/icons/Home';\nimport useOpenExternalApp from \"../hooks/useOpenExternalApp\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    color: theme.palette.text.secondary,\n  },\n  active: {\n    color: theme.palette.text.primary,\n  },\n  icon: { minWidth: theme.spacing(5) },\n}));\n\nconst OutsideMenuItemLink = ({ to, primaryText, leftIcon }) => {\n  const classes = useStyles();\n  return (\n    <a href={to}>\n      <MenuItem className={classes.root} activeClassName={classes.active}>\n        <ListItemIcon className={classes.icon}>{leftIcon}</ListItemIcon>\n        {primaryText}\n      </MenuItem>\n    </a>\n  );\n};\n\nconst MyProfileMenu = forwardRef(({ onClick, label, to }, ref) => (\n  <OutsideMenuItemLink ref={ref} to={to} primaryText={label} leftIcon={<PersonIcon />} onClick={onClick} />\n));\n\nconst MyAddressMenu = forwardRef(({ onClick, to, label }, ref) => (\n  <OutsideMenuItemLink ref={ref} to={to} primaryText={label} leftIcon={<HomeIcon />} onClick={onClick} />\n));\n\nconst MyNetworkMenu = forwardRef(({ onClick, to, label }, ref) => (\n  <OutsideMenuItemLink ref={ref} to={to} primaryText={label} leftIcon={<GroupIcon />} onClick={onClick} />\n));\n\nconst LoginMenu = forwardRef(({ onClick, label }, ref) => (\n  <MenuItemLink ref={ref} to=\"/login\" primaryText={label} onClick={onClick} />\n));\n\nconst UserMenu = ({ logout, ...otherProps }) => {\n  const { identity } = useGetIdentity();\n  const openExternalApp = useOpenExternalApp();\n  const translate = useTranslate();\n  return (\n    <RaUserMenu {...otherProps}>\n      {identity && identity.id !== '' ? (\n        [\n          <MyProfileMenu\n            key=\"my-profile\"\n            label={translate('app.page.profile')}\n            to={openExternalApp('as:Profile', identity?.profileData?.id)}\n          />,\n          <MyAddressMenu\n            key=\"my-address\"\n            label={translate('app.page.addresses')}\n            to={openExternalApp('vcard:Location')}\n          />,\n          <MyNetworkMenu\n            key=\"my-network\"\n            label={translate('app.page.network')}\n            to={openExternalApp('as:Profile')}\n          />,\n          React.cloneElement(logout, { key: 'logout' }),\n        ]\n      ) : (\n        <LoginMenu label={translate('ra.auth.sign_in')} />\n      )}\n    </RaUserMenu>\n  );\n};\n\nexport default UserMenu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}