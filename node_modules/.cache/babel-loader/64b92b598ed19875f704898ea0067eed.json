{"ast":null,"code":"import { keyName, base } from 'w3c-keyname';\nimport { Plugin } from 'prosemirror-state';\nvar mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform) : false;\nfunction normalizeKeyName(name) {\n  var parts = name.split(/-(?!$)/),\n    result = parts[parts.length - 1];\n  if (result == \"Space\") result = \" \";\n  var alt, ctrl, shift, meta;\n  for (var i = 0; i < parts.length - 1; i++) {\n    var mod = parts[i];\n    if (/^(cmd|meta|m)$/i.test(mod)) meta = true;else if (/^a(lt)?$/i.test(mod)) alt = true;else if (/^(c|ctrl|control)$/i.test(mod)) ctrl = true;else if (/^s(hift)?$/i.test(mod)) shift = true;else if (/^mod$/i.test(mod)) {\n      if (mac) meta = true;else ctrl = true;\n    } else throw new Error(\"Unrecognized modifier name: \" + mod);\n  }\n  if (alt) result = \"Alt-\" + result;\n  if (ctrl) result = \"Ctrl-\" + result;\n  if (meta) result = \"Meta-\" + result;\n  if (shift) result = \"Shift-\" + result;\n  return result;\n}\nfunction normalize(map) {\n  var copy = Object.create(null);\n  for (var prop in map) copy[normalizeKeyName(prop)] = map[prop];\n  return copy;\n}\nfunction modifiers(name, event, shift) {\n  if (event.altKey) name = \"Alt-\" + name;\n  if (event.ctrlKey) name = \"Ctrl-\" + name;\n  if (event.metaKey) name = \"Meta-\" + name;\n  if (shift !== false && event.shiftKey) name = \"Shift-\" + name;\n  return name;\n}\n/**\nCreate a keymap plugin for the given set of bindings.\n\nBindings should map key names to [command](https://prosemirror.net/docs/ref/#commands)-style\nfunctions, which will be called with `(EditorState, dispatch,\nEditorView)` arguments, and should return true when they've handled\nthe key. Note that the view argument isn't part of the command\nprotocol, but can be used as an escape hatch if a binding needs to\ndirectly interact with the UI.\n\nKey names may be strings like `\"Shift-Ctrl-Enter\"`—a key\nidentifier prefixed with zero or more modifiers. Key identifiers\nare based on the strings that can appear in\n[`KeyEvent.key`](https:developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key).\nUse lowercase letters to refer to letter keys (or uppercase letters\nif you want shift to be held). You may use `\"Space\"` as an alias\nfor the `\" \"` name.\n\nModifiers can be given in any order. `Shift-` (or `s-`), `Alt-` (or\n`a-`), `Ctrl-` (or `c-` or `Control-`) and `Cmd-` (or `m-` or\n`Meta-`) are recognized. For characters that are created by holding\nshift, the `Shift-` prefix is implied, and should not be added\nexplicitly.\n\nYou can use `Mod-` as a shorthand for `Cmd-` on Mac and `Ctrl-` on\nother platforms.\n\nYou can add multiple keymap plugins to an editor. The order in\nwhich they appear determines their precedence (the ones early in\nthe array get to dispatch first).\n*/\nfunction keymap(bindings) {\n  return new Plugin({\n    props: {\n      handleKeyDown: keydownHandler(bindings)\n    }\n  });\n}\n/**\nGiven a set of bindings (using the same format as\n[`keymap`](https://prosemirror.net/docs/ref/#keymap.keymap)), return a [keydown\nhandler](https://prosemirror.net/docs/ref/#view.EditorProps.handleKeyDown) that handles them.\n*/\nfunction keydownHandler(bindings) {\n  var map = normalize(bindings);\n  return function (view, event) {\n    var name = keyName(event),\n      isChar = name.length == 1 && name != \" \",\n      baseName;\n    var direct = map[modifiers(name, event, !isChar)];\n    if (direct && direct(view.state, view.dispatch, view)) return true;\n    if (isChar && (event.shiftKey || event.altKey || event.metaKey || name.charCodeAt(0) > 127) && (baseName = base[event.keyCode]) && baseName != name) {\n      // Try falling back to the keyCode when there's a modifier\n      // active or the character produced isn't ASCII, and our table\n      // produces a different name from the the keyCode. See #668,\n      // #1060\n      var fromCode = map[modifiers(baseName, event, true)];\n      if (fromCode && fromCode(view.state, view.dispatch, view)) return true;\n    } else if (isChar && event.shiftKey) {\n      // Otherwise, if shift is active, also try the binding with the\n      // Shift- prefix enabled. See #997\n      var withShift = map[modifiers(name, event, true)];\n      if (withShift && withShift(view.state, view.dispatch, view)) return true;\n    }\n    return false;\n  };\n}\nexport { keydownHandler, keymap };","map":{"version":3,"names":["keyName","base","Plugin","mac","navigator","test","platform","normalizeKeyName","name","parts","split","result","length","alt","ctrl","shift","meta","i","mod","Error","normalize","map","copy","Object","create","prop","modifiers","event","altKey","ctrlKey","metaKey","shiftKey","keymap","bindings","props","handleKeyDown","keydownHandler","view","isChar","baseName","direct","state","dispatch","charCodeAt","keyCode","fromCode","withShift"],"sources":["/home/jean-daniel/Documents/Projets/Développement/ActivityPods/BCM/frontend/node_modules/prosemirror-keymap/dist/index.js"],"sourcesContent":["import { keyName, base } from 'w3c-keyname';\nimport { Plugin } from 'prosemirror-state';\n\nconst mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform) : false;\nfunction normalizeKeyName(name) {\n    let parts = name.split(/-(?!$)/), result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; i++) {\n        let mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (mac)\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction normalize(map) {\n    let copy = Object.create(null);\n    for (let prop in map)\n        copy[normalizeKeyName(prop)] = map[prop];\n    return copy;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\n/**\nCreate a keymap plugin for the given set of bindings.\n\nBindings should map key names to [command](https://prosemirror.net/docs/ref/#commands)-style\nfunctions, which will be called with `(EditorState, dispatch,\nEditorView)` arguments, and should return true when they've handled\nthe key. Note that the view argument isn't part of the command\nprotocol, but can be used as an escape hatch if a binding needs to\ndirectly interact with the UI.\n\nKey names may be strings like `\"Shift-Ctrl-Enter\"`—a key\nidentifier prefixed with zero or more modifiers. Key identifiers\nare based on the strings that can appear in\n[`KeyEvent.key`](https:developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key).\nUse lowercase letters to refer to letter keys (or uppercase letters\nif you want shift to be held). You may use `\"Space\"` as an alias\nfor the `\" \"` name.\n\nModifiers can be given in any order. `Shift-` (or `s-`), `Alt-` (or\n`a-`), `Ctrl-` (or `c-` or `Control-`) and `Cmd-` (or `m-` or\n`Meta-`) are recognized. For characters that are created by holding\nshift, the `Shift-` prefix is implied, and should not be added\nexplicitly.\n\nYou can use `Mod-` as a shorthand for `Cmd-` on Mac and `Ctrl-` on\nother platforms.\n\nYou can add multiple keymap plugins to an editor. The order in\nwhich they appear determines their precedence (the ones early in\nthe array get to dispatch first).\n*/\nfunction keymap(bindings) {\n    return new Plugin({ props: { handleKeyDown: keydownHandler(bindings) } });\n}\n/**\nGiven a set of bindings (using the same format as\n[`keymap`](https://prosemirror.net/docs/ref/#keymap.keymap)), return a [keydown\nhandler](https://prosemirror.net/docs/ref/#view.EditorProps.handleKeyDown) that handles them.\n*/\nfunction keydownHandler(bindings) {\n    let map = normalize(bindings);\n    return function (view, event) {\n        let name = keyName(event), isChar = name.length == 1 && name != \" \", baseName;\n        let direct = map[modifiers(name, event, !isChar)];\n        if (direct && direct(view.state, view.dispatch, view))\n            return true;\n        if (isChar && (event.shiftKey || event.altKey || event.metaKey || name.charCodeAt(0) > 127) &&\n            (baseName = base[event.keyCode]) && baseName != name) {\n            // Try falling back to the keyCode when there's a modifier\n            // active or the character produced isn't ASCII, and our table\n            // produces a different name from the the keyCode. See #668,\n            // #1060\n            let fromCode = map[modifiers(baseName, event, true)];\n            if (fromCode && fromCode(view.state, view.dispatch, view))\n                return true;\n        }\n        else if (isChar && event.shiftKey) {\n            // Otherwise, if shift is active, also try the binding with the\n            // Shift- prefix enabled. See #997\n            let withShift = map[modifiers(name, event, true)];\n            if (withShift && withShift(view.state, view.dispatch, view))\n                return true;\n        }\n        return false;\n    };\n}\n\nexport { keydownHandler, keymap };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}