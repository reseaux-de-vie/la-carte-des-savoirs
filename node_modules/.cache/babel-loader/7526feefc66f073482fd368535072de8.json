{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/src/resources/Event/EventShow.js\";\nimport React, { useCallback } from 'react';\nimport { Typography, Card } from '@material-ui/core';\nimport { ShowBase, useRecordContext, useTranslate } from 'react-admin';\nimport { ImageField, ReferenceField } from '@semapps/field-components';\nimport { AvatarWithLabelField } from '@semapps/field-components';\nimport { GridList } from '@semapps/list-components';\nimport { useCheckAuthenticated } from '@semapps/auth-provider';\nimport { ReferenceCollectionField } from '@semapps/activitypub-components';\nimport EventAlert from './EventAlert';\nimport MarkdownField from '../../commons/fields/MarkdownField';\nimport HeaderShow from '../../layout/HeaderShow';\nimport EventJoinCard from '../../commons/cards/EventJoinCard';\nimport BodyList from '../../commons/lists/BodyList/BodyList';\nimport EventDetails from './EventDetails';\nimport SkillList from '../Skill/SkillList';\nimport EventConditionsField from '../../commons/fields/EventConditionsField';\nimport EditButton from '../../commons/buttons/EditButton';\nimport ShareButton from '../../commons/buttons/ShareButton';\nimport HostLocationField from '../../commons/fields/HostLocationField';\nimport ContactField from '../../commons/fields/ContactField';\nimport useOpenExternalApp from \"../../hooks/useOpenExternalApp\";\nvar LinkToExternalApp = function LinkToExternalApp(_ref) {\n  var type = _ref.type,\n    _ref$linkType = _ref.linkType,\n    linkType = _ref$linkType === void 0 ? 'show' : _ref$linkType,\n    children = _ref.children;\n  var record = useRecordContext();\n  var openExternalApp = useOpenExternalApp();\n  return /*#__PURE__*/React.createElement(\"a\", {\n    href: openExternalApp(type, record.id, linkType),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, children);\n};\nvar EventShow = function EventShow(props) {\n  var _useCheckAuthenticate = useCheckAuthenticated(),\n    identity = _useCheckAuthenticate.identity;\n  var translate = useTranslate();\n  var contactFieldLabel = useCallback(function (record) {\n    return translate('app.action.contact');\n  }, [identity, translate]);\n  if (!(identity === null || identity === void 0 ? void 0 : identity.id)) return null;\n  return /*#__PURE__*/React.createElement(ShowBase, Object.assign({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(EventDetails, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BodyList, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ImageField, {\n    source: \"image\",\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(MarkdownField, {\n    source: \"content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ReferenceCollectionField, {\n    reference: \"Actor\",\n    source: \"apods:attendees\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GridList, {\n    xs: 4,\n    sm: 2,\n    linkType: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ReferenceField, {\n    reference: \"Profile\",\n    source: \"url\",\n    link: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(LinkToExternalApp, {\n    type: \"as:Profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AvatarWithLabelField, {\n    label: \"vcard:given-name\",\n    image: \"vcard:photo\",\n    defaultLabel: translate('app.user.unknown'),\n    labelColor: \"grey.300\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }))))), /*#__PURE__*/React.createElement(HostLocationField, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ContactField, {\n    label: contactFieldLabel,\n    source: \"dc:creator\",\n    context: \"id\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(SkillList, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })));\n};\nexport default EventShow;","map":{"version":3,"names":["React","useCallback","Typography","Card","ShowBase","useRecordContext","useTranslate","ImageField","ReferenceField","AvatarWithLabelField","GridList","useCheckAuthenticated","ReferenceCollectionField","EventAlert","MarkdownField","HeaderShow","EventJoinCard","BodyList","EventDetails","SkillList","EventConditionsField","EditButton","ShareButton","HostLocationField","ContactField","useOpenExternalApp","LinkToExternalApp","type","linkType","children","record","openExternalApp","id","EventShow","props","identity","translate","contactFieldLabel"],"sources":["/home/jean-daniel/Documents/Projets/DÃ©veloppement/ActivityPods/BCM/frontend/src/resources/Event/EventShow.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { Typography, Card } from '@material-ui/core';\nimport { ShowBase, useRecordContext, useTranslate } from 'react-admin';\nimport { ImageField, ReferenceField } from '@semapps/field-components';\nimport { AvatarWithLabelField } from '@semapps/field-components';\nimport { GridList } from '@semapps/list-components';\nimport { useCheckAuthenticated } from '@semapps/auth-provider';\nimport { ReferenceCollectionField } from '@semapps/activitypub-components';\nimport EventAlert from './EventAlert';\nimport MarkdownField from '../../commons/fields/MarkdownField';\nimport HeaderShow from '../../layout/HeaderShow';\nimport EventJoinCard from '../../commons/cards/EventJoinCard';\nimport BodyList from '../../commons/lists/BodyList/BodyList';\nimport EventDetails from './EventDetails';\nimport SkillList from '../Skill/SkillList';\nimport EventConditionsField from '../../commons/fields/EventConditionsField';\nimport EditButton from '../../commons/buttons/EditButton';\nimport ShareButton from '../../commons/buttons/ShareButton';\nimport HostLocationField from '../../commons/fields/HostLocationField';\nimport ContactField from '../../commons/fields/ContactField';\nimport useOpenExternalApp from \"../../hooks/useOpenExternalApp\";\n\nconst LinkToExternalApp = ({ type, linkType = 'show', children }) => {\n  const record = useRecordContext();\n  const openExternalApp = useOpenExternalApp();\n  return (\n    <a href={openExternalApp(type, record.id, linkType)}>\n      {children}\n    </a>\n  )\n}\n\nconst EventShow = (props) => {\n  const { identity } = useCheckAuthenticated();\n  const translate = useTranslate();\n  const contactFieldLabel = useCallback(record => {\n    return translate('app.action.contact')\n  }, [identity, translate]);\n  if (!identity?.id) return null;\n  return (\n    <ShowBase {...props}>\n      <>\n        <EventDetails />\n\n        <BodyList>\n          \n          <ImageField source=\"image\" fullWidth />\n          <MarkdownField source=\"content\" />\n          <ReferenceCollectionField reference=\"Actor\" source=\"apods:attendees\">\n            <GridList xs={4} sm={2} linkType={false}>\n              <ReferenceField reference=\"Profile\" source=\"url\" link={false}>\n                  <LinkToExternalApp type=\"as:Profile\">\n                    <AvatarWithLabelField\n                      label=\"vcard:given-name\"\n                      image=\"vcard:photo\"\n                      defaultLabel={translate('app.user.unknown')}\n                      labelColor=\"grey.300\"\n                    />\n                  </LinkToExternalApp>\n              </ReferenceField>\n            </GridList>\n          </ReferenceCollectionField>\n          <HostLocationField />\n          <ContactField label={contactFieldLabel} source=\"dc:creator\" context=\"id\" />\n          \n        </BodyList>\n\n        <SkillList />\n        \n\n\n      </>\n    </ShowBase>\n  );\n};\n\nexport default EventShow;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}