{"ast":null,"code":"import _slicedToArray from \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/src/commons/buttons/ShareButton.js\";\nimport React, { useState } from 'react';\nimport { Button, useShowContext, useTranslate } from 'react-admin';\nimport ShareIcon from '@material-ui/icons/Share';\nimport { useCollection } from '@semapps/activitypub-components';\nimport ShareDialog from \"../ShareDialog/ShareDialog\";\nvar ShareButton = function ShareButton() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    shareOpen = _useState2[0],\n    setShareOpen = _useState2[1];\n  var _useShowContext = useShowContext(),\n    record = _useShowContext.record;\n  var _useCollection = useCollection(record === null || record === void 0 ? void 0 : record['apods:announces']),\n    loaded = _useCollection.loaded,\n    error = _useCollection.error;\n  var translate = useTranslate();\n  // If the user can see the list of announces, it means he can share\n  if (loaded && !error) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      label: translate('app.action.share'),\n      onClick: function onClick() {\n        return setShareOpen(true);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ShareIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 11\n      }\n    })), shareOpen && /*#__PURE__*/React.createElement(ShareDialog, {\n      resourceUri: record.id,\n      close: function close() {\n        return setShareOpen(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 23\n      }\n    }));\n  } else {\n    return null;\n  }\n};\nexport default ShareButton;","map":{"version":3,"names":["React","useState","Button","useShowContext","useTranslate","ShareIcon","useCollection","ShareDialog","ShareButton","shareOpen","setShareOpen","record","loaded","error","translate","id"],"sources":["/home/jean-daniel/Documents/Projets/DÃ©veloppement/ActivityPods/BCM/frontend/src/commons/buttons/ShareButton.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, useShowContext, useTranslate } from 'react-admin';\nimport ShareIcon from '@material-ui/icons/Share';\nimport { useCollection } from '@semapps/activitypub-components';\nimport ShareDialog from \"../ShareDialog/ShareDialog\";\n\nconst ShareButton = () => {\n  const [shareOpen, setShareOpen] = useState(false);\n  const { record } = useShowContext();\n  const { loaded, error } = useCollection(record?.['apods:announces']);\n  const translate = useTranslate();\n  // If the user can see the list of announces, it means he can share\n  if (loaded && !error) {\n    return (\n      <>\n        <Button label={translate('app.action.share')} onClick={() => setShareOpen(true)}>\n          <ShareIcon />\n        </Button>\n        {shareOpen && <ShareDialog resourceUri={record.id} close={() => setShareOpen(false)} />}\n      </>\n\n    );\n  } else {\n    return null;\n  }\n};\n\nexport default ShareButton;\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,EAAEC,cAAc,EAAEC,YAAY,QAAQ,aAAa;AAClE,OAAOC,SAAS,MAAM,0BAA0B;AAChD,SAASC,aAAa,QAAQ,iCAAiC;AAC/D,OAAOC,WAAW,MAAM,4BAA4B;AAEpD,IAAMC,WAAW,GAAG,SAAdA,WAAW,GAAS;EACxB,gBAAkCP,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA1CQ,SAAS;IAAEC,YAAY;EAC9B,sBAAmBP,cAAc,EAAE;IAA3BQ,MAAM,mBAANA,MAAM;EACd,qBAA0BL,aAAa,CAACK,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAG,iBAAiB,CAAC,CAAC;IAA5DC,MAAM,kBAANA,MAAM;IAAEC,KAAK,kBAALA,KAAK;EACrB,IAAMC,SAAS,GAAGV,YAAY,EAAE;EAChC;EACA,IAAIQ,MAAM,IAAI,CAACC,KAAK,EAAE;IACpB,oBACE;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE,oBAAC,MAAM;MAAC,KAAK,EAAEC,SAAS,CAAC,kBAAkB,CAAE;MAAC,OAAO,EAAE;QAAA,OAAMJ,YAAY,CAAC,IAAI,CAAC;MAAA,CAAC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAC9E,oBAAC,SAAS;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG,CACN,EACRD,SAAS,iBAAI,oBAAC,WAAW;MAAC,WAAW,EAAEE,MAAM,CAACI,EAAG;MAAC,KAAK,EAAE;QAAA,OAAML,YAAY,CAAC,KAAK,CAAC;MAAA,CAAC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG,CACtF;EAGP,CAAC,MAAM;IACL,OAAO,IAAI;EACb;AACF,CAAC;AAED,eAAeF,WAAW"},"metadata":{},"sourceType":"module"}