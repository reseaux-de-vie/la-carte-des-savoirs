{"ast":null,"code":"import _objectWithoutProperties from \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"label\", \"source\"];\nvar _this = this,\n  _jsxFileName = \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/src/commons/fields/HostLocationField.js\";\nimport React from 'react';\nimport { Box, useMediaQuery } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { MapField } from '@semapps/geo-components';\nimport { ReferenceField } from '@semapps/field-components';\nimport { useRecordContext, useTranslate } from 'react-admin';\nvar HostLocationField = function HostLocationField(_ref) {\n  var label = _ref.label,\n    source = _ref.source,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var record = useRecordContext(rest);\n  var xs = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  }, {\n    noSsr: true\n  });\n  var translate = useTranslate();\n  return /*#__PURE__*/React.createElement(ReferenceField, {\n    reference: \"Location\",\n    record: record,\n    source: source,\n    link: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MapField, {\n    address: function address(record) {\n      var _record$vcardHasAddr;\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 11\n        }\n      }, (record === null || record === void 0 ? void 0 : record['vcard:given-name']) + ', ' + (record === null || record === void 0 ? void 0 : (_record$vcardHasAddr = record['vcard:hasAddress']) === null || _record$vcardHasAddr === void 0 ? void 0 : _record$vcardHasAddr['vcard:given-name']), (record === null || record === void 0 ? void 0 : record['vcard:note']) && /*#__PURE__*/React.createElement(Box, {\n        mb: 2,\n        mt: 2,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Alert, {\n        severity: \"info\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 19\n        }\n      }, translate('resources.Location.fields.vcard:note')), \": \", record === null || record === void 0 ? void 0 : record['vcard:note'])));\n    },\n    latitude: function latitude(record) {\n      var _record$vcardHasAddr2, _record$vcardHasAddr3;\n      return record === null || record === void 0 ? void 0 : (_record$vcardHasAddr2 = record['vcard:hasAddress']) === null || _record$vcardHasAddr2 === void 0 ? void 0 : (_record$vcardHasAddr3 = _record$vcardHasAddr2['vcard:hasGeo']) === null || _record$vcardHasAddr3 === void 0 ? void 0 : _record$vcardHasAddr3['vcard:latitude'];\n    },\n    longitude: function longitude(record) {\n      var _record$vcardHasAddr4, _record$vcardHasAddr5;\n      return record === null || record === void 0 ? void 0 : (_record$vcardHasAddr4 = record['vcard:hasAddress']) === null || _record$vcardHasAddr4 === void 0 ? void 0 : (_record$vcardHasAddr5 = _record$vcardHasAddr4['vcard:hasGeo']) === null || _record$vcardHasAddr5 === void 0 ? void 0 : _record$vcardHasAddr5['vcard:longitude'];\n    },\n    height: xs ? 250 : 400,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }\n  }));\n};\nHostLocationField.defaultProps = {\n  addLabel: true,\n  label: 'Localisation',\n  source: 'location'\n};\nexport default HostLocationField;","map":{"version":3,"names":["React","Box","useMediaQuery","Alert","MapField","ReferenceField","useRecordContext","useTranslate","HostLocationField","label","source","rest","record","xs","theme","breakpoints","down","noSsr","translate","defaultProps","addLabel"],"sources":["/home/jean-daniel/Documents/Projets/DÃ©veloppement/ActivityPods/BCM/frontend/src/commons/fields/HostLocationField.js"],"sourcesContent":["import React from 'react';\nimport { Box, useMediaQuery } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport { MapField } from '@semapps/geo-components';\nimport { ReferenceField } from '@semapps/field-components';\nimport { useRecordContext, useTranslate } from 'react-admin';\n\nconst HostLocationField = ({ label, source, ...rest }) => {\n  const record = useRecordContext(rest);\n  const xs = useMediaQuery((theme) => theme.breakpoints.down('xs'), { noSsr: true });\n  const translate = useTranslate();\n  return (\n    <ReferenceField reference=\"Location\" record={record} source={source} link={false}>\n      <MapField\n        address={(record) => (\n          <>\n            {record?.['vcard:given-name'] + ', ' + record?.['vcard:hasAddress']?.['vcard:given-name']}\n            {record?.['vcard:note'] && (\n              <Box mb={2} mt={2}>\n                <Alert severity=\"info\">\n                  <strong>{translate('resources.Location.fields.vcard:note')}</strong>: {record?.['vcard:note']}\n                </Alert>\n              </Box>\n            )}\n          </>\n        )}\n        latitude={(record) => record?.['vcard:hasAddress']?.['vcard:hasGeo']?.['vcard:latitude']}\n        longitude={(record) => record?.['vcard:hasAddress']?.['vcard:hasGeo']?.['vcard:longitude']}\n        height={xs ? 250 : 400}\n      />\n    </ReferenceField>\n  );\n};\n\nHostLocationField.defaultProps = {\n  addLabel: true,\n  label: 'Localisation',\n  source: 'location',\n};\n\nexport default HostLocationField;\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,EAAEC,aAAa,QAAQ,mBAAmB;AACtD,OAAOC,KAAK,MAAM,wBAAwB;AAC1C,SAASC,QAAQ,QAAQ,yBAAyB;AAClD,SAASC,cAAc,QAAQ,2BAA2B;AAC1D,SAASC,gBAAgB,EAAEC,YAAY,QAAQ,aAAa;AAE5D,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiB,OAAmC;EAAA,IAA7BC,KAAK,QAALA,KAAK;IAAEC,MAAM,QAANA,MAAM;IAAKC,IAAI;EACjD,IAAMC,MAAM,GAAGN,gBAAgB,CAACK,IAAI,CAAC;EACrC,IAAME,EAAE,GAAGX,aAAa,CAAC,UAACY,KAAK;IAAA,OAAKA,KAAK,CAACC,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC;EAAA,GAAE;IAAEC,KAAK,EAAE;EAAK,CAAC,CAAC;EAClF,IAAMC,SAAS,GAAGX,YAAY,EAAE;EAChC,oBACE,oBAAC,cAAc;IAAC,SAAS,EAAC,UAAU;IAAC,MAAM,EAAEK,MAAO;IAAC,MAAM,EAAEF,MAAO;IAAC,IAAI,EAAE,KAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC/E,oBAAC,QAAQ;IACP,OAAO,EAAE,iBAACE,MAAM;MAAA;MAAA,oBACd;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACG,CAAAA,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAG,kBAAkB,CAAC,IAAG,IAAI,IAAGA,MAAM,aAANA,MAAM,+CAANA,MAAM,CAAG,kBAAkB,CAAC,yDAA5B,qBAA+B,kBAAkB,CAAC,GACxF,CAAAA,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAG,YAAY,CAAC,kBACrB,oBAAC,GAAG;QAAC,EAAE,EAAE,CAAE;QAAC,EAAE,EAAE,CAAE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAChB,oBAAC,KAAK;QAAC,QAAQ,EAAC,MAAM;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACpB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAASM,SAAS,CAAC,sCAAsC,CAAC,CAAU,MAAE,EAACN,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAG,YAAY,CAAC,CACvF,CAEX,CACA;IAAA,CACH;IACF,QAAQ,EAAE,kBAACA,MAAM;MAAA;MAAA,OAAKA,MAAM,aAANA,MAAM,gDAANA,MAAM,CAAG,kBAAkB,CAAC,mFAA5B,sBAA+B,cAAc,CAAC,0DAA9C,sBAAiD,gBAAgB,CAAC;IAAA,CAAC;IACzF,SAAS,EAAE,mBAACA,MAAM;MAAA;MAAA,OAAKA,MAAM,aAANA,MAAM,gDAANA,MAAM,CAAG,kBAAkB,CAAC,mFAA5B,sBAA+B,cAAc,CAAC,0DAA9C,sBAAiD,iBAAiB,CAAC;IAAA,CAAC;IAC3F,MAAM,EAAEC,EAAE,GAAG,GAAG,GAAG,GAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACvB,CACa;AAErB,CAAC;AAEDL,iBAAiB,CAACW,YAAY,GAAG;EAC/BC,QAAQ,EAAE,IAAI;EACdX,KAAK,EAAE,cAAc;EACrBC,MAAM,EAAE;AACV,CAAC;AAED,eAAeF,iBAAiB"},"metadata":{},"sourceType":"module"}