{"ast":null,"code":"import _defineProperty from \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _this = this,\n  _jsxFileName = \"/home/jean-daniel/Documents/Projets/D\\xE9veloppement/ActivityPods/BCM/frontend/src/layout/HeaderShow.js\";\nimport React, { useRef } from 'react';\nimport { Grid, makeStyles, Container, Box, Drawer, useMediaQuery, useScrollTrigger, Typography } from '@material-ui/core';\nimport { TextField, useShowContext, ReferenceField } from 'react-admin';\nimport JoinButton from '../commons/buttons/JoinButton';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: _defineProperty({\n      backgroundColor: 'white',\n      paddingTop: 25,\n      paddingBottom: 10\n    }, theme.breakpoints.down('xs'), {\n      paddingTop: 10,\n      paddingBottom: 0,\n      marginBottom: 0\n    }),\n    breadcrumbs: {\n      paddingTop: 15,\n      paddingBottom: 10\n    },\n    type: {\n      paddingTop: 15,\n      paddingBottom: 10\n    },\n    title: {\n      lineHeight: 1.15\n    },\n    chevronIcon: {\n      color: 'white'\n    },\n    images: {\n      marginBottom: 15,\n      '& img': _defineProperty({\n        width: '100%',\n        display: 'block',\n        borderRadius: 8,\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        objectFit: 'cover',\n        margin: '5px 0 10px 0',\n        height: '100%',\n        maxHeight: '15rem'\n      }, theme.breakpoints.down('xs'), {\n        maxHeight: '8rem'\n      })\n    },\n    drawer: {\n      backgroundImage: \"radial-gradient(circle at 50% 14em, \".concat(theme.palette.primary.light, \" 0%, \").concat(theme.palette.primary.main, \" 100%)\"),\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }\n  };\n});\nvar HeaderShow = function HeaderShow(_ref) {\n  var _headerRef$current;\n  var type = _ref.type,\n    details = _ref.details,\n    actions = _ref.actions;\n  var classes = useStyles();\n  var _useShowContext = useShowContext(),\n    record = _useShowContext.record;\n  var xs = useMediaQuery(function (theme) {\n    return theme.breakpoints.down('xs');\n  }, {\n    noSsr: true\n  });\n\n  // Calculate header height\n  var headerRef = useRef(null);\n  var headerHeight = headerRef === null || headerRef === void 0 ? void 0 : (_headerRef$current = headerRef.current) === null || _headerRef$current === void 0 ? void 0 : _headerRef$current.clientHeight;\n\n  // Trigger drawer when we pass beyond header height\n  var showDrawer = useScrollTrigger({\n    threshold: headerHeight,\n    disableHysteresis: true\n  });\n  return /*#__PURE__*/React.createElement(Box, {\n    className: classes.root,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    ref: headerRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 10,\n    sm: 9,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, type && record && record[type] && /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle2\",\n    component: \"div\",\n    className: classes.type,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ReferenceField, {\n    source: type,\n    reference: \"Format\",\n    link: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ReferenceField, {\n    source: \"skos:broader\",\n    reference: \"Format\",\n    link: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    source: \"rdfs:label\",\n    variant: \"subtitle2\",\n    component: \"span\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }))), \"\\xA0\\xA0>\\xA0\\xA0\", /*#__PURE__*/React.createElement(ReferenceField, {\n    source: type,\n    reference: \"Format\",\n    link: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    source: \"rdfs:label\",\n    variant: \"subtitle2\",\n    component: \"span\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(TextField, {\n    source: \"name\",\n    variant: \"h2\",\n    className: classes.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    sm: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"flex-end\",\n    flexDirection: xs ? 'column' : 'row',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, actions))), /*#__PURE__*/React.createElement(Box, {\n    display: xs ? 'block' : 'flex',\n    pt: 2,\n    pb: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, React.cloneElement(details, {\n    orientation: xs ? 'vertical' : 'horizontal'\n  })), xs && /*#__PURE__*/React.createElement(Box, {\n    pb: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(JoinButton, {\n    variant: \"contained\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Drawer, {\n    anchor: \"bottom\",\n    open: xs && showDrawer,\n    variant: \"persistent\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.drawer,\n    pt: 1,\n    pb: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(JoinButton, {\n    variant: \"contained\",\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  })))));\n};\nexport default HeaderShow;","map":{"version":3,"names":["React","useRef","Grid","makeStyles","Container","Box","Drawer","useMediaQuery","useScrollTrigger","Typography","TextField","useShowContext","ReferenceField","JoinButton","useStyles","theme","root","backgroundColor","paddingTop","paddingBottom","breakpoints","down","marginBottom","breadcrumbs","type","title","lineHeight","chevronIcon","color","images","width","display","borderRadius","backgroundSize","backgroundRepeat","backgroundPosition","objectFit","margin","height","maxHeight","drawer","backgroundImage","palette","primary","light","main","alignItems","justifyContent","HeaderShow","details","actions","classes","record","xs","noSsr","headerRef","headerHeight","current","clientHeight","showDrawer","threshold","disableHysteresis","cloneElement","orientation"],"sources":["/home/jean-daniel/Documents/Projets/DÃ©veloppement/ActivityPods/BCM/frontend/src/layout/HeaderShow.js"],"sourcesContent":["import React, { useRef } from 'react';\nimport {\n  Grid,\n  makeStyles,\n  Container,\n  Box,\n  Drawer,\n  useMediaQuery,\n  useScrollTrigger,\n  Typography,\n} from '@material-ui/core';\nimport { TextField, useShowContext, ReferenceField } from 'react-admin';\nimport JoinButton from '../commons/buttons/JoinButton';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: 'white',\n    paddingTop: 25,\n    paddingBottom: 10,\n    [theme.breakpoints.down('xs')]: {\n      paddingTop: 10,\n      paddingBottom: 0,\n      marginBottom: 0,\n    },\n  },\n  breadcrumbs: {\n    paddingTop: 15,\n    paddingBottom: 10,\n  },\n  type: {\n    paddingTop: 15,\n    paddingBottom: 10,\n  },\n  title: {\n    lineHeight: 1.15,\n  },\n  chevronIcon: {\n    color: 'white',\n  },\n  images: {\n    marginBottom: 15,\n    '& img': {\n      width: '100%',\n      display: 'block',\n      borderRadius: 8,\n      backgroundSize: 'cover',\n      backgroundRepeat: 'no-repeat',\n      backgroundPosition: 'center',\n      objectFit: 'cover',\n      margin: '5px 0 10px 0',\n      height: '100%',\n      maxHeight: '15rem',\n      [theme.breakpoints.down('xs')]: {\n        maxHeight: '8rem',\n      },\n    },\n  },\n  drawer: {\n    backgroundImage: `radial-gradient(circle at 50% 14em, ${theme.palette.primary.light} 0%, ${theme.palette.primary.main} 100%)`,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n}));\n\nconst HeaderShow = ({ type, details, actions }) => {\n  const classes = useStyles();\n  const { record } = useShowContext();\n  const xs = useMediaQuery((theme) => theme.breakpoints.down('xs'), { noSsr: true });\n\n  // Calculate header height\n  const headerRef = useRef(null);\n  const headerHeight = headerRef?.current?.clientHeight;\n\n  // Trigger drawer when we pass beyond header height\n  const showDrawer = useScrollTrigger({ threshold: headerHeight, disableHysteresis: true });\n\n  return (\n    <Box className={classes.root}>\n      <Container ref={headerRef}>\n        <Grid container>\n          <Grid item xs={10} sm={9}>\n            {type && record && record[type] && (\n              <Typography variant=\"subtitle2\" component=\"div\" className={classes.type}>\n                <ReferenceField source={type} reference=\"Format\" link={false}>\n                  <ReferenceField source=\"skos:broader\" reference=\"Format\" link={false}>\n                    <TextField source=\"rdfs:label\" variant=\"subtitle2\" component=\"span\" />\n                  </ReferenceField>\n                </ReferenceField>\n                &nbsp;&nbsp;>&nbsp;&nbsp;\n                <ReferenceField source={type} reference=\"Format\" link={false}>\n                  <TextField source=\"rdfs:label\" variant=\"subtitle2\" component=\"span\" />\n                </ReferenceField>\n              </Typography>\n            )}\n            <TextField source=\"name\" variant=\"h2\" className={classes.title} />\n          </Grid>\n          <Grid item xs={2} sm={3}>\n            <Box display=\"flex\" justifyContent=\"flex-end\" alignItems=\"flex-end\" flexDirection={xs ? 'column' : 'row'}>\n              {actions}\n            </Box>\n          </Grid>\n        </Grid>\n        <Box display={xs ? 'block' : 'flex'} pt={2} pb={2}>\n          {React.cloneElement(details, { orientation: xs ? 'vertical' : 'horizontal' })}\n        </Box>\n        {xs && (\n          <Box pb={3}>\n            <JoinButton variant=\"contained\" color=\"primary\" />\n          </Box>\n        )}\n        <Drawer anchor=\"bottom\" open={xs && showDrawer} variant=\"persistent\">\n          <Box className={classes.drawer} pt={1} pb={1}>\n            <JoinButton variant=\"contained\" color=\"primary\" />\n          </Box>\n        </Drawer>\n      </Container>\n    </Box>\n  );\n};\n\nexport default HeaderShow;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}